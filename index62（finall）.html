<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®—æ³•çŸ¥è¯†å›¾è°± - Neo4jæ•°æ®å¯è§†åŒ–</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="app4.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
            --success: #2ecc71;
            --warning: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .my-button {
            background-color: #2f2f35; /* ç»¿è‰²èƒŒæ™¯ */
            border: none; /* æ— è¾¹æ¡† */
            color: white; /* ç™½è‰²æ–‡å­— */
            padding: 15px 32px; /* å†…è¾¹è· */
            text-align: center; /* æ–‡å­—å±…ä¸­ */
            text-decoration: none; /* æ— ä¸‹åˆ’çº¿ */
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer; /* é¼ æ ‡æŒ‡é’ˆå˜ä¸ºæ‰‹å½¢ */
            border-radius: 8px; /* åœ†è§’ */
            transition: background-color 0.3s; /* æ‚¬åœè¿‡æ¸¡æ•ˆæœ */
        }
  
        .my-button:hover {
            background-color: #525288; /* æ‚¬åœæ—¶é¢œè‰²å˜æ·± */
        }

        .art-text {
            font-family: 'Arial Black', sans-serif;
            font-size: 48px;
            color: #ff3366;
            text-shadow: 3px 3px 0px #ffcc00, 
                        6px 6px 0px #ff9900;
            transform: rotate(-5deg);
            display: inline-block;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--secondary), var(--dark));
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 10px 10px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }
        
        .logo h1 {
            font-size: 2.2rem;
            font-weight: 700;
        }
        
        .logo span {
            color: var(--primary);
        }
        
        .controls {
            display: flex;
            gap: 15px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .filter-group {
            flex: 1;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .filter-group h3 {
            margin-bottom: 12px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .filter-group h3 i {
            color: var(--primary);
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-btn {
            background: var(--light);
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .filter-btn:hover {
            background: var(--primary);
            color: white;
        }
        
        .filter-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 20px;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .card-header h2 {
            color: var(--secondary);
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-header h2 i {
            color: var(--primary);
        }
        
        /* è¡¨æ ¼å®¹å™¨æ ·å¼ - æ·»åŠ æ»šåŠ¨åŠŸèƒ½ */
        .table-container {
            overflow: hidden;
            position: relative;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            margin-top: 20px;
            max-height: 400px;
        }
        
        /* è¡¨æ ¼æ ·å¼ */
        table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }
        
        thead {
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        th {
            background-color: var(--light);
            color: var(--dark);
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        
        tbody {
            display: block;
            max-height: 320px;
            overflow-y: auto;
        }
        
        thead, tbody tr {
            display: table;
            width: 100%;
            table-layout: fixed;
        }
        
        tbody tr:hover {
            background-color: #f9f9f9;
        }
        
        .complexity {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .time-complexity {
            background-color: rgba(231, 76, 60, 0.15);
            color: var(--accent);
        }
        
        .space-complexity {
            background-color: rgba(52, 152, 219, 0.15);
            color: var(--primary);
        }
        
        .graph-container {
            height: 500px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-top: 20px;
            overflow: hidden;
        }
        
        .footer {
            text-align: center;
            padding: 25px 0;
            margin-top: 40px;
            color: var(--dark);
            border-top: 1px solid #eee;
        }
        
        .stat-card {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .stat-1 { background: rgba(46, 204, 113, 0.2); color: var(--success); }
        .stat-2 { background: rgba(52, 152, 219, 0.2); color: var(--primary); }
        .stat-3 { background: rgba(155, 89, 182, 0.2); color: #9b59b6; }
        .stat-4 { background: rgba(243, 156, 18, 0.2); color: var(--warning); }
        
        .stat-info h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-info p {
            color: #777;
            font-size: 0.9rem;
        }
        
        /* è¿”å›ä¸»é¡µæŒ‰é’®æ ·å¼ */
        .home-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .home-button:hover {
            background: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        @media (max-width: 1024px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .table-container {
                max-height: 300px;
            }
            
            tbody {
                max-height: 220px;
            }
        }
        
        @media (max-width: 768px) {
            /* è¡¨æ ¼å“åº”å¼è°ƒæ•´ */
            table {
                display: block;
                overflow-x: auto;
            }
            
            thead {
                display: none;
            }
            
            tbody {
                display: block;
                max-height: none;
                overflow-x: auto;
            }
            
            tbody tr {
                display: flex;
                flex-direction: column;
                margin-bottom: 15px;
                border: 1px solid #eee;
                border-radius: 8px;
                padding: 10px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            }
            
            tbody td {
                display: flex;
                justify-content: space-between;
                padding: 8px 10px;
                border: none;
            }
            
            tbody td:before {
                content: attr(data-label);
                font-weight: bold;
                margin-right: 10px;
                color: var(--dark);
                flex: 0 0 100px;
            }
            
            /* ç§»åŠ¨ç«¯è°ƒæ•´è¿”å›æŒ‰é’®ä½ç½® */
            .home-button {
                position: relative;
                top: auto;
                right: auto;
                margin: 15px auto;
                width: fit-content;
                display: block;
            }
        }
    </style>
</head>
<body>
    <header>
        <a href="http://127.0.0.1:8000/" class="home-button">
            <span style="font-size: 24px;">ğŸ”</span><i class="card-header"></i> å£¹ä¼´æœç´¢
        </a>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-project-diagram"></i>
                    <h1>ç®—æ³•çŸ¥è¯†<span>å›¾è°±</span></h1>
                </div>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-icon stat-1">
                            <i class="fas fa-sitemap"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="category-count">12</h3>
                            <p>ç®—æ³•åˆ†ç±»</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="controls">
            <div class="filter-group">
                <h3><i class="fas fa-filter"></i> ç®—æ³•åˆ†ç±»</h3>
                <div class="filter-options" id="category-filters">
                    <!-- åˆ†ç±»ç­›é€‰æŒ‰é’®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="filter-group">
                <h3><i class="fas fa-chart-line"></i> æ—¶é—´å¤æ‚åº¦</h3>
                <div class="filter-options" id="complexity-filters">
                    <!-- å¤æ‚åº¦ç­›é€‰æŒ‰é’®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
        
        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-table"></i> ç®—æ³•æ•°æ®æ¦‚è§ˆ</h2>
                </div>
                <div class="table-container">
                    <table id="algorithm-table">
                        <thead>
                            <tr>
                                <th style="width: 20%">ç®—æ³•åç§°</th>
                                <th style="width: 20%">åˆ†ç±»</th>
                                <th style="width: 20%">è‹±æ–‡å</th>
                                <th style="width: 15%">æ—¶é—´å¤æ‚åº¦</th>
                                <th style="width: 15%">ç©ºé—´å¤æ‚åº¦</th>
                                <th style="width: 10%">ç±»å‹</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- è¡¨æ ¼æ•°æ®å°†é€šè¿‡JSåŠ¨æ€å¡«å…… -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-chart-pie"></i> åˆ†ç±»ç»Ÿè®¡</h2>
                </div>
                <div>
                    <canvas id="category-chart"></canvas>
                </div>
                
                <div class="card-header" style="margin-top: 25px;">
                    <h2><i class="fas fa-bolt"></i> æ—¶é—´å¤æ‚åº¦åˆ†å¸ƒ</h2>
                </div>
                <div>
                    <canvas id="complexity-chart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-share-alt"></i> ç®—æ³•å…³ç³»å›¾è°±</h2>
            </div>
            <div>
                <a href="#" class="stat-card">
                    <button class="my-button">è¯¦ç»†ç®—æ³•å›¾è°±</button>
                </a>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>Â© 2025 ç®—æ³•çŸ¥è¯†å›¾è°± | æ•°æ®æ¥æº: Neo4j çŸ¥è¯†åº“ | å…± <span id="algorithm-count">0</span> ä¸ªç®—æ³•</p>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ•°æ® - åœ¨å®é™…åº”ç”¨ä¸­åº”ä»åç«¯APIè·å–
        const algorithms = [
            {
                id: 1,
                name: "å¿«é€Ÿæ’åº",
                category: "æ’åºç®—æ³•",
                english_name: "Quick Sort",
                algorithm_type: "æ¯”è¾ƒæ’åº",
                time_complexity: "O(n log n)",
                space_complexity: "O(log n)",
                stability: "ä¸ç¨³å®š",
                use_cases: "å¤§è§„æ¨¡æ•°æ®æ’åº",
                core_idea: "åˆ†æ²»æ³•ï¼Œé€‰å–åŸºå‡†å…ƒç´ åˆ†åŒº",
                applicable_domains: "é€šç”¨æ’åº",
                pros_cons_analysis: "é€Ÿåº¦å¿«ä½†æœ€åæƒ…å†µæ€§èƒ½å·®"
            },
            {
                id: 2,
                name: "å½’å¹¶æ’åº",
                category: "æ’åºç®—æ³•",
                english_name: "Merge Sort",
                algorithm_type: "æ¯”è¾ƒæ’åº",
                time_complexity: "O(n log n)",
                space_complexity: "O(n)",
                stability: "ç¨³å®š",
                use_cases: "å¤§è§„æ¨¡æ•°æ®æ’åºï¼Œå¤–éƒ¨æ’åº",
                core_idea: "åˆ†æ²»æ³•ï¼Œåˆå¹¶æœ‰åºåºåˆ—",
                applicable_domains: "é€šç”¨æ’åº",
                pros_cons_analysis: "ç¨³å®šä½†éœ€è¦é¢å¤–ç©ºé—´"
            },
            {
                id: 3,
                name: "æ·±åº¦ä¼˜å…ˆæœç´¢",
                category: "å›¾ç®—æ³•",
                english_name: "Depth-First Search",
                algorithm_type: "å›¾éå†",
                time_complexity: "O(V+E)",
                space_complexity: "O(V)",
                stability: "N/A",
                use_cases: "è·¯å¾„æŸ¥æ‰¾ï¼Œè¿é€šåˆ†é‡",
                core_idea: "å°½å¯èƒ½æ·±åœ°æ¢ç´¢å›¾çš„åˆ†æ”¯",
                applicable_domains: "å›¾è®ºï¼Œè¿·å®«æ±‚è§£",
                pros_cons_analysis: "å†…å­˜å ç”¨å°‘ä½†å¯èƒ½æ‰¾ä¸åˆ°æœ€çŸ­è·¯å¾„"
            },
            {
                id: 4,
                name: "Dijkstraç®—æ³•",
                category: "å›¾ç®—æ³•",
                english_name: "Dijkstra's Algorithm",
                algorithm_type: "æœ€çŸ­è·¯å¾„",
                time_complexity: "O(V^2)",
                space_complexity: "O(V)",
                stability: "N/A",
                use_cases: "éè´Ÿæƒå›¾çš„æœ€çŸ­è·¯å¾„",
                core_idea: "è´ªå¿ƒç­–ç•¥ï¼Œé€æ­¥æ‰©å±•æœ€çŸ­è·¯å¾„æ ‘",
                applicable_domains: "è·¯ç”±ï¼Œç½‘ç»œä¼˜åŒ–",
                pros_cons_analysis: "é«˜æ•ˆä½†ä¸èƒ½å¤„ç†è´Ÿæƒè¾¹"
            },
            {
                id: 5,
                name: "äºŒåˆ†æŸ¥æ‰¾",
                category: "æœç´¢ç®—æ³•",
                english_name: "Binary Search",
                algorithm_type: "æœç´¢",
                time_complexity: "O(log n)",
                space_complexity: "O(1)",
                stability: "N/A",
                use_cases: "æœ‰åºæ•°ç»„æŸ¥æ‰¾",
                core_idea: "åˆ†æ²»ç­–ç•¥ï¼Œæ¯æ¬¡ç¼©å°ä¸€åŠæœç´¢èŒƒå›´",
                applicable_domains: "æœç´¢ï¼Œæ•°æ®åº“ç´¢å¼•",
                pros_cons_analysis: "é«˜æ•ˆä½†è¦æ±‚æ•°æ®æœ‰åº"
            },
            {
                id: 6,
                name: "å†’æ³¡æ’åº",
                category: "æ’åºç®—æ³•",
                english_name: "Bubble Sort",
                algorithm_type: "æ¯”è¾ƒæ’åº",
                time_complexity: "O(n^2)",
                space_complexity: "O(1)",
                stability: "ç¨³å®š",
                use_cases: "å°è§„æ¨¡æ•°æ®æ’åº",
                core_idea: "é‡å¤éå†åˆ—è¡¨ï¼Œæ¯”è¾ƒç›¸é‚»å…ƒç´ ",
                applicable_domains: "æ•™å­¦æ¼”ç¤º",
                pros_cons_analysis: "ç®€å•ä½†æ•ˆç‡ä½"
            },
            {
                id: 7,
                name: "å †æ’åº",
                category: "æ’åºç®—æ³•",
                english_name: "Heap Sort",
                algorithm_type: "æ¯”è¾ƒæ’åº",
                time_complexity: "O(n log n)",
                space_complexity: "O(1)",
                stability: "ä¸ç¨³å®š",
                use_cases: "å¤§è§„æ¨¡æ•°æ®æ’åº",
                core_idea: "åˆ©ç”¨å †æ•°æ®ç»“æ„è¿›è¡Œæ’åº",
                applicable_domains: "é€šç”¨æ’åº",
                pros_cons_analysis: "åŸåœ°æ’åºä½†ç¼“å­˜ä¸å‹å¥½"
            },
            {
                id: 8,
                name: "å¹¿åº¦ä¼˜å…ˆæœç´¢",
                category: "å›¾ç®—æ³•",
                english_name: "Breadth-First Search",
                algorithm_type: "å›¾éå†",
                time_complexity: "O(V+E)",
                space_complexity: "O(V)",
                stability: "N/A",
                use_cases: "æœ€çŸ­è·¯å¾„ï¼Œè¿é€šåˆ†é‡",
                core_idea: "é€å±‚éå†å›¾çš„æ‰€æœ‰èŠ‚ç‚¹",
                applicable_domains: "å›¾è®ºï¼Œç½‘ç»œçˆ¬è™«",
                pros_cons_analysis: "èƒ½æ‰¾åˆ°æœ€çŸ­è·¯å¾„ä½†å†…å­˜å ç”¨å¤§"
            },
            {
                id: 9,
                name: "Kruskalç®—æ³•",
                category: "å›¾ç®—æ³•",
                english_name: "Kruskal's Algorithm",
                algorithm_type: "æœ€å°ç”Ÿæˆæ ‘",
                time_complexity: "O(E log E)",
                space_complexity: "O(E)",
                stability: "N/A",
                use_cases: "ç½‘ç»œè®¾è®¡ï¼Œç”µè·¯è¿æ¥",
                core_idea: "è´ªå¿ƒç­–ç•¥ï¼Œé€‰æ‹©æœ€å°æƒé‡è¾¹",
                applicable_domains: "ç½‘ç»œä¼˜åŒ–",
                pros_cons_analysis: "é«˜æ•ˆä½†éœ€è¦æ’åºæ‰€æœ‰è¾¹"
            },
            {
                id: 10,
                name: "çº¿æ€§æœç´¢",
                category: "æœç´¢ç®—æ³•",
                english_name: "Linear Search",
                algorithm_type: "æœç´¢",
                time_complexity: "O(n)",
                space_complexity: "O(1)",
                stability: "N/A",
                use_cases: "æ— åºåˆ—è¡¨æœç´¢",
                core_idea: "é€ä¸ªæ£€æŸ¥åˆ—è¡¨å…ƒç´ ",
                applicable_domains: "ç®€å•æœç´¢",
                pros_cons_analysis: "ç®€å•ä½†æ•ˆç‡ä½"
            },
            {
                id: 11,
                name: "æ’å…¥æ’åº",
                category: "æ’åºç®—æ³•",
                english_name: "Insertion Sort",
                algorithm_type: "æ¯”è¾ƒæ’åº",
                time_complexity: "O(n^2)",
                space_complexity: "O(1)",
                stability: "ç¨³å®š",
                use_cases: "å°è§„æ¨¡æ•°æ®æ’åº",
                core_idea: "æ„å»ºæœ‰åºåºåˆ—ï¼Œæ’å…¥æ–°å…ƒç´ ",
                applicable_domains: "éƒ¨åˆ†æœ‰åºæ•°æ®",
                pros_cons_analysis: "ç®€å•é«˜æ•ˆå¯¹å°æ•°æ®é›†"
            },
            {
                id: 12,
                name: "é€‰æ‹©æ’åº",
                category: "æ’åºç®—æ³•",
                english_name: "Selection Sort",
                algorithm_type: "æ¯”è¾ƒæ’åº",
                time_complexity: "O(n^2)",
                space_complexity: "O(1)",
                stability: "ä¸ç¨³å®š",
                use_cases: "å°è§„æ¨¡æ•°æ®æ’åº",
                core_idea: "é‡å¤é€‰æ‹©æœ€å°å…ƒç´ ",
                applicable_domains: "æ•™å­¦æ¼”ç¤º",
                pros_cons_analysis: "ç®€å•ä½†æ•ˆç‡ä½"
            }
        ];
        
        // ä»æ•°ç»„ä¸­éšæœºé€‰æ‹©æœ€å¤šnä¸ªé¡¹ç›®ï¼ˆä¸è¶³åˆ™å…¨éƒ¨è¿”å›ï¼‰
        function getRandomItems(array, n) {
            if (array.length <= n) {
                return array.slice(); // è¿”å›å‰¯æœ¬
            }
            
            // åˆ›å»ºæ•°ç»„å‰¯æœ¬
            const shuffled = array.slice();
            
            // Fisher-Yates æ´—ç‰Œç®—æ³•
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            
            // è¿”å›å‰nä¸ªé¡¹ç›®
            return shuffled.slice(0, n);
        }
        
        // æå–æ‰€æœ‰åˆ†ç±»
        const categories = [...new Set(algorithms.map(alg => alg.category))];
        
        // æå–æ‰€æœ‰æ—¶é—´å¤æ‚åº¦ï¼ˆå»é‡å¹¶è¿‡æ»¤ç©ºå€¼ï¼‰
        const allComplexities = [...new Set(algorithms.map(alg => alg.time_complexity))].filter(c => c);
        
        // éšæœºæå–æœ€å¤š10æ¡æ—¶é—´å¤æ‚åº¦ï¼ˆä¸è¶³åˆ™å…¨éƒ¨æå–ï¼‰
        const complexities = getRandomItems(allComplexities, 10);
        
        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            document.getElementById('category-count').textContent = categories.length;
            document.getElementById('algorithm-count').textContent = algorithms.length;
            
            // æ¸²æŸ“åˆ†ç±»ç­›é€‰æŒ‰é’®
            renderFilterButtons('category-filters', categories, 'category');
            
            // æ¸²æŸ“å¤æ‚åº¦ç­›é€‰æŒ‰é’®
            renderFilterButtons('complexity-filters', complexities, 'complexity');
            
            // æ¸²æŸ“ç®—æ³•è¡¨æ ¼
            renderAlgorithmTable(algorithms);
            
            // æ¸²æŸ“å›¾è¡¨
            renderCharts(algorithms);
            
            // æ¸²æŸ“å…³ç³»å›¾è°±
            renderGraph(algorithms);
        });
        
        // æ¸²æŸ“ç­›é€‰æŒ‰é’®
        function renderFilterButtons(containerId, items, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            // æ·»åŠ "å…¨éƒ¨"é€‰é¡¹
            const allBtn = document.createElement('button');
            allBtn.classList.add('filter-btn', 'active');
            allBtn.setAttribute('data-type', type);
            allBtn.setAttribute('data-value', 'all');
            allBtn.textContent = 'å…¨éƒ¨';
            allBtn.addEventListener('click', filterAlgorithms);
            container.appendChild(allBtn);
            
            // æ·»åŠ åˆ†ç±»é€‰é¡¹
            items.forEach(item => {
                if (!item) return; // è·³è¿‡ç©ºå€¼
                
                const btn = document.createElement('button');
                btn.classList.add('filter-btn');
                btn.setAttribute('data-type', type);
                btn.setAttribute('data-value', item);
                btn.textContent = item;
                btn.addEventListener('click', filterAlgorithms);
                container.appendChild(btn);
            });
        }
        
        // ç­›é€‰ç®—æ³•
        function filterAlgorithms() {
            const type = this.getAttribute('data-type');
            const value = this.getAttribute('data-value');
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll(`.filter-btn[data-type="${type}"]`).forEach(btn => {
                btn.classList.remove('active');
            });
            this.classList.add('active');
            
            // åº”ç”¨ç­›é€‰
            let filteredAlgorithms = [...algorithms];
            
            // åº”ç”¨åˆ†ç±»ç­›é€‰
            const categoryFilter = document.querySelector(`.filter-btn.active[data-type="category"]`);
            if (categoryFilter && categoryFilter.dataset.value !== 'all') {
                filteredAlgorithms = filteredAlgorithms.filter(
                    alg => alg.category === categoryFilter.dataset.value
                );
            }
            
            // åº”ç”¨å¤æ‚åº¦ç­›é€‰
            const complexityFilter = document.querySelector(`.filter-btn.active[data-type="complexity"]`);
            if (complexityFilter && complexityFilter.dataset.value !== 'all') {
                filteredAlgorithms = filteredAlgorithms.filter(
                    alg => alg.time_complexity === complexityFilter.dataset.value
                );
            }
            
            // æ›´æ–°è¡¨æ ¼
            renderAlgorithmTable(filteredAlgorithms);
            
            // æ›´æ–°å›¾è¡¨
            renderCharts(filteredAlgorithms);
            
            // æ›´æ–°å…³ç³»å›¾
            renderGraph(filteredAlgorithms);
        }
        
        // æ¸²æŸ“ç®—æ³•è¡¨æ ¼
        function renderAlgorithmTable(data) {
            const tbody = document.querySelector('#algorithm-table tbody');
            tbody.innerHTML = '';
            
            data.forEach(algorithm => {
                const row = document.createElement('tr');
                
                // ä¸ºç§»åŠ¨ç«¯æ·»åŠ æ•°æ®æ ‡ç­¾
                row.innerHTML = `
                    <td data-label="ç®—æ³•åç§°"><strong>${algorithm.name}</strong></td>
                    <td data-label="åˆ†ç±»">${algorithm.category}</td>
                    <td data-label="è‹±æ–‡å">${algorithm.english_name}</td>
                    <td data-label="æ—¶é—´å¤æ‚åº¦"><span class="complexity time-complexity">${algorithm.time_complexity}</span></td>
                    <td data-label="ç©ºé—´å¤æ‚åº¦"><span class="complexity space-complexity">${algorithm.space_complexity}</span></td>
                    <td data-label="ç±»å‹">${algorithm.algorithm_type}</td>
                `;
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶æ˜¾ç¤ºè¯¦æƒ…
                row.addEventListener('click', () => {
                    showAlgorithmDetails(algorithm);
                });
                
                tbody.appendChild(row);
            });
            
            // æ·»åŠ å¹³æ»‘æ»šåŠ¨æ•ˆæœ
            tbody.addEventListener('wheel', function(e) {
                if (this.scrollHeight > this.clientHeight) {
                    this.scrollTop += e.deltaY;
                    e.preventDefault();
                }
            }, { passive: false });
        }
        
        // æ˜¾ç¤ºç®—æ³•è¯¦æƒ…
        function showAlgorithmDetails(algorithm) {
            // åˆ›å»ºæ¨¡æ€æ¡†
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                border-radius: 10px;
                padding: 30px;
                width: 80%;
                max-width: 700px;
                max-height: 80vh;
                overflow-y: auto;
                position: relative;
                box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
            `;
            
            const closeBtn = document.createElement('button');
            closeBtn.textContent = 'Ã—';
            closeBtn.style.cssText = `
                position: absolute;
                top: 15px;
                right: 15px;
                background: none;
                border: none;
                font-size: 24px;
                cursor: pointer;
                color: #777;
            `;
            closeBtn.addEventListener('click', () => document.body.removeChild(modal));
            
            const title = document.createElement('h2');
            title.textContent = algorithm.name;
            title.style.cssText = `
                margin-bottom: 20px;
                color: #2c3e50;
                border-bottom: 2px solid #3498db;
                padding-bottom: 10px;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            `;
            
            const detailsHtml = `
                <div class="detail-group">
                    <h3><i class="fas fa-tag"></i> åŸºæœ¬ä¿¡æ¯</h3>
                    <p><strong>è‹±æ–‡å:</strong> ${algorithm.english_name}</p>
                    <p><strong>åˆ†ç±»:</strong> ${algorithm.category}</p>
                    <p><strong>ç±»å‹:</strong> ${algorithm.algorithm_type}</p>
                    <p><strong>ç¨³å®šæ€§:</strong> ${algorithm.stability}</p>
                </div>
                
                <div class="detail-group">
                    <h3><i class="fas fa-chart-line"></i> å¤æ‚åº¦</h3>
                    <p><strong>æ—¶é—´å¤æ‚åº¦:</strong> <span class="complexity time-complexity">${algorithm.time_complexity}</span></p>
                    <p><strong>ç©ºé—´å¤æ‚åº¦:</strong> <span class="complexity space-complexity">${algorithm.space_complexity}</span></p>
                </div>
                
                <div class="detail-group">
                    <h3><i class="fas fa-lightbulb"></i> æ ¸å¿ƒæ€æƒ³</h3>
                    <p>${algorithm.core_idea}</p>
                </div>
                
                <div class="detail-group">
                    <h3><i class="fas fa-globe-americas"></i> åº”ç”¨é¢†åŸŸ</h3>
                    <p>${algorithm.applicable_domains}</p>
                </div>
                
                <div class="detail-group" style="grid-column: span 2;">
                    <h3><i class="fas fa-check-circle"></i> ä½¿ç”¨åœºæ™¯</h3>
                    <p>${algorithm.use_cases}</p>
                </div>
                
                <div class="detail-group" style="grid-column: span 2;">
                    <h3><i class="fas fa-balance-scale"></i> ä¼˜ç¼ºç‚¹åˆ†æ</h3>
                    <p>${algorithm.pros_cons_analysis}</p>
                </div>
            `;
            
            content.innerHTML = detailsHtml;
            
            modalContent.appendChild(closeBtn);
            modalContent.appendChild(title);
            modalContent.appendChild(content);
            modal.appendChild(modalContent);
            
            document.body.appendChild(modal);
        }
        
        // æ¸²æŸ“å›¾è¡¨
        function renderCharts(data) {
            // å¦‚æœå·²ç»å­˜åœ¨å›¾è¡¨å®ä¾‹ï¼Œåˆ™é”€æ¯
            if (window.categoryChart) {
                window.categoryChart.destroy();
            }
            if (window.complexityChart) {
                window.complexityChart.destroy();
            }
            
            // åˆ†ç±»åˆ†å¸ƒå›¾
            const categoryCounts = {};
            categories.forEach(cat => {
                categoryCounts[cat] = data.filter(alg => alg.category === cat).length;
            });
            
            const categoryCtx = document.getElementById('category-chart').getContext('2d');
            window.categoryChart = new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(categoryCounts),
                    datasets: [{
                        data: Object.values(categoryCounts),
                        backgroundColor: [
                            '#3498db', '#2ecc71', '#e74c3c', '#9b59b6', '#f39c12',
                            '#1abc9c', '#34495e', '#d35400', '#27ae60', '#8e44ad'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        },
                        title: {
                            display: true,
                            text: 'ç®—æ³•åˆ†ç±»åˆ†å¸ƒ'
                        }
                    }
                }
            });
            
            // æ—¶é—´å¤æ‚åº¦åˆ†å¸ƒå›¾
            const complexityCounts = {};
            complexities.forEach(comp => {
                if (!comp) return;
                const count = data.filter(alg => alg.time_complexity === comp).length;
                if (count > 0) {
                    complexityCounts[comp] = count;
                }
            });
            
            const complexityCtx = document.getElementById('complexity-chart').getContext('2d');
            window.complexityChart = new Chart(complexityCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(complexityCounts),
                    datasets: [{
                        label: 'æ•°é‡',
                        data: Object.values(complexityCounts),
                        backgroundColor: '#3498db',
                        borderColor: '#2980b9',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                precision: 0
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ—¶é—´å¤æ‚åº¦åˆ†å¸ƒ'
                        }
                    }
                }
            });
        }
        
        // æ¸²æŸ“å…³ç³»å›¾è°±
        function renderGraph(data) {
            const container = document.getElementById('graph');
            container.innerHTML = '';
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // åˆ›å»ºSVGç”»å¸ƒ
            const svg = d3.select('#graph')
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // åˆ›å»ºèŠ‚ç‚¹å’Œé“¾æ¥æ•°æ®
            const nodes = [];
            const links = [];
            
            // æ·»åŠ åˆ†ç±»èŠ‚ç‚¹
            categories.forEach(category => {
                if (!category) return;
                nodes.push({
                    id: `category-${category}`,
                    name: category,
                    type: 'category',
                    size: 30
                });
            });
            
            // æ·»åŠ ç®—æ³•èŠ‚ç‚¹
            data.forEach(algorithm => {
                if (!algorithm.category) return;
                nodes.push({
                    id: `algorithm-${algorithm.id}`,
                    name: algorithm.name,
                    type: 'algorithm',
                    size: 20,
                    algorithm: algorithm
                });
                
                // æ·»åŠ ç®—æ³•åˆ°åˆ†ç±»çš„é“¾æ¥
                links.push({
                    source: `algorithm-${algorithm.id}`,
                    target: `category-${algorithm.category}`,
                    type: 'belongs_to'
                });
            });
            
            // æ·»åŠ æ—¶é—´å¤æ‚åº¦èŠ‚ç‚¹
            complexities.forEach(complexity => {
                if (!complexity) return;
                nodes.push({
                    id: `complexity-${complexity}`,
                    name: complexity,
                    type: 'complexity',
                    size: 15
                });
            });
            
            // æ·»åŠ ç®—æ³•åˆ°æ—¶é—´å¤æ‚åº¦çš„é“¾æ¥
            data.forEach(algorithm => {
                if (algorithm.time_complexity) {
                    links.push({
                        source: `algorithm-${algorithm.id}`,
                        target: `complexity-${algorithm.time_complexity}`,
                        type: 'has_complexity'
                    });
                }
            });
            
            // å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™è¿”å›
            if (nodes.length === 0) {
                svg.append('text')
                    .attr('x', width/2)
                    .attr('y', height/2)
                    .attr('text-anchor', 'middle')
                    .text('æ²¡æœ‰æ•°æ®å¯æ˜¾ç¤º');
                return;
            }
            
            // åˆ›å»ºåŠ›å¯¼å‘å›¾
            const simulation = d3.forceSimulation(nodes)
                .force('link', d3.forceLink(links).id(d => d.id).distance(100))
                .force('charge', d3.forceManyBody().strength(-300))
                .force('center', d3.forceCenter(width / 2, height / 2))
                .force('collision', d3.forceCollide().radius(d => d.size + 5));
            
            // ç»˜åˆ¶é“¾æ¥
            const link = svg.append('g')
                .attr('class', 'links')
                .selectAll('line')
                .data(links)
                .enter()
                .append('line')
                .attr('stroke', d => d.type === 'belongs_to' ? '#3498db' : '#e74c3c')
                .attr('stroke-width', 2)
                .attr('stroke-opacity', 0.6);
            
            // ç»˜åˆ¶èŠ‚ç‚¹
            const node = svg.append('g')
                .attr('class', 'nodes')
                .selectAll('g')
                .data(nodes)
                .enter()
                .append('g');
            
            // æ ¹æ®èŠ‚ç‚¹ç±»å‹è®¾ç½®ä¸åŒæ ·å¼
            node.append('circle')
                .attr('r', d => d.size)
                .attr('fill', d => {
                    if (d.type === 'category') return '#2ecc71';
                    if (d.type === 'algorithm') return '#3498db';
                    return '#e74c3c';
                })
                .attr('stroke', '#fff')
                .attr('stroke-width', 2)
                .call(d3.drag()
                    .on('start', dragstarted)
                    .on('drag', dragged)
                    .on('end', dragended)
                );
            
            // æ·»åŠ èŠ‚ç‚¹æ–‡å­—
            node.append('text')
                .attr('text-anchor', 'middle')
                .attr('dy', '0.35em')
                .attr('font-size', d => d.type === 'category' ? '12px' : '10px')
                .attr('fill', '#fff')
                .text(d => d.name ? d.name.substring(0, 10) : '')
                .attr('pointer-events', 'none');
            
            // æ·»åŠ æ‚¬æµ®æç¤º
            node.append('title')
                .text(d => d.name);
            
            // èŠ‚ç‚¹ç‚¹å‡»äº‹ä»¶
            node.on('click', (event, d) => {
                if (d.type === 'algorithm') {
                    showAlgorithmDetails(d.algorithm);
                }
            });
            
            // æ›´æ–°ä½ç½®å‡½æ•°
            function ticked() {
                link
                    .attr('x1', d => d.source.x)
                    .attr('y1', d => d.source.y)
                    .attr('x2', d => d.target.x)
                    .attr('y2', d => d.target.y);
                
                node
                    .attr('transform', d => `translate(${d.x},${d.y})`);
            }
            
            // æ‹–æ‹½å‡½æ•°
            function dragstarted(event) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                event.subject.fx = event.subject.x;
                event.subject.fy = event.subject.y;
            }
            
            function dragged(event) {
                event.subject.fx = event.x;
                event.subject.fy = event.y;
            }
            
            function dragended(event) {
                if (!event.active) simulation.alphaTarget(0);
                event.subject.fx = null;
                event.subject.fy = null;
            }
            
            // ç›‘å¬tickäº‹ä»¶
            simulation.on('tick', ticked);
        }
    </script>
</body>
</html>